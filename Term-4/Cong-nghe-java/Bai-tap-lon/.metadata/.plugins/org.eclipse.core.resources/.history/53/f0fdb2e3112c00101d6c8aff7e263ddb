package com.battleship.core.model.player;

import com.battleship.core.model.Position;
import com.battleship.core.model.attack.AttackResult;
import com.battleship.core.strategy.IBotStrategy;


public class Bot extends Player {
    private final IBotStrategy strategy;
    private final String difficulty;
    
    public Bot(String name, String difficulty, IBotStrategy strategy) {
        super(name);
        this.difficulty = difficulty;
        this.strategy = strategy;
    }
    
    public Position getNextAttackPosition() {
        return strategy.getNextAttackPosition(getBoard());
    }
    
    public void updateStrategy(AttackResult result) {
        strategy.updateStrategy(result);
    }
    
    public String getDifficulty() {
        return difficulty;
    }
    
    @Override
    public void attack(IPlayer opponent, Position position) {
        super.attack(opponent, position);
        // Cập nhật chiến lược sau khi tấn công
        updateStrategy(opponent.receiveAttack(position));
    }
}