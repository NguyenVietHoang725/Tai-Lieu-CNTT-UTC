package com.battleship.core.model.board;

import com.battleship.core.model.Position;
import com.battleship.core.model.ship.Ship;

public class Node {
    private final Position position;
    private NodeState state;
    private Ship ship;

    public Node(int x, int y) {
        this.position = new Position(x, y);
        this.state = NodeState.EMPTY;
    }

    public int getX() {
        return position.getX();
    }

    public int getY() {
        return position.getY();
    }

    public Position getPosition() {
        return position;
    }

    public NodeState getState() {
        return state;
    }

    public void setState(NodeState state) {
        this.state = state;
    }

    public Ship getShip() {
        return ship;
    }

    public void setShip(Ship ship) {
        this.ship = ship;
    }

    public boolean hasShip() {
        return ship != null;
    }

    public boolean isHit() {
        return state == NodeState.HIT;
    }

    public boolean isMiss() {
        return state == NodeState.MISS;
    }

    public boolean isEmpty() {
        return state == NodeState.EMPTY;
    }

    public void hit() {
        if (hasShip()) {
            ship.hit();
        }
        state = NodeState.HIT;
    }

    public void miss() {
        state = NodeState.MISS;
    }

    public void clear() {
        state = NodeState.EMPTY;
        ship = null;
    }
}