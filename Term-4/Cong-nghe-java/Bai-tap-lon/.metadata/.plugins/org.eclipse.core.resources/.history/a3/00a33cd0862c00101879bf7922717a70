package com.battleship.ui.component.button;

import java.awt.Dimension;
import java.awt.Image;
import javax.swing.ImageIcon;
import javax.swing.JToggleButton;
import com.battleship.ui.utils.ResourceLoader;

public class CustomToggleButton extends JToggleButton {
    public CustomToggleButton(String iconPath, String hoverPath, String pressedPath, int width, int height) {
        super(new ImageIcon(ResourceLoader.loadImage(iconPath)
                .getScaledInstance(width, height, Image.SCALE_SMOOTH)));
        setBorderPainted(false);
        setContentAreaFilled(false);
        setFocusPainted(false);
        setOpaque(false);
        setPreferredSize(new Dimension(width, height));
        setMaximumSize(new Dimension(width, height));
        setMinimumSize(new Dimension(width, height));

        if (hoverPath != null) {
            setRolloverIcon(new ImageIcon(ResourceLoader.loadImage(hoverPath)
                .getScaledInstance(width, height, Image.SCALE_SMOOTH)));
        }
        if (pressedPath != null) {
            setPressedIcon(new ImageIcon(ResourceLoader.loadImage(pressedPath)
                .getScaledInstance(width, height, Image.SCALE_SMOOTH)));
            setSelectedIcon(new ImageIcon(ResourceLoader.loadImage(pressedPath)
                .getScaledInstance(width, height, Image.SCALE_SMOOTH)));
        }
    }
    
    public void addToGroup(ButtonGroup group) {
        group.add(this);
    }
    
    public void setSelectedAndNotify(boolean selected) {
        setSelected(selected);
        for (ActionListener listener : getActionListeners()) {
            listener.actionPerformed(new ActionEvent(this, ActionEvent.ACTION_PERFORMED, "selected"));
        }
    }
}